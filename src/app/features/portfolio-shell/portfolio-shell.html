@if(portfolios()){
    <div class="layout">
        <aside>
            <h3>Portefeuilles</h3>
            <mat-nav-list>
            @for (portfolio of portfolios(); track portfolio.id) {
                <a mat-list-item [routerLink]="['/p', portfolio.id]">{{ portfolio.name }}</a>
            }
            </mat-nav-list>
        </aside>
        <section>
            <div class="filters">
                <mat-select  [value]="currentId()" (valueChange)="goto($event)">
                    @for(pf of portfolios(); track pf.id){
                        <mat-option [value]="pf.id">{{pf.name}}</mat-option>
                    }
                </mat-select>         
            </div>
            <div style="width:100%">
                <input matInput placeholder="Filtrer les positions" aria-label="Filtre" [formControl]="filterCtrl" />
            </div>
            <app-portfolio-table [positions]="filteredPositions()"></app-portfolio-table>
            <app-portfolio-charts [positions]="filteredPositions()" [portfolioId]="currentId()"></app-portfolio-charts>
        </section>
    </div>
}
@else {
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
}